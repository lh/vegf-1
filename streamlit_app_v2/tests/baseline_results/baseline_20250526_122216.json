{
  "system_info": {
    "platform": "macOS-15.4.1-arm64-arm-64bit",
    "python_version": "3.12.2 | packaged by conda-forge | (main, Feb 16 2024, 20:54:21) [Clang 16.0.6 ]",
    "cpu_count": 16,
    "total_memory_gb": 48.0,
    "timestamp": "2025-05-26T12:22:15.505434"
  },
  "test_results": {
    "regression": {
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.3.4, pluggy-1.5.0 -- /opt/homebrew/Caskroom/miniconda/base/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/rose/Code/CC/streamlit_app_v2\nconfigfile: pytest.ini\nplugins: cov-6.0.0, anyio-4.9.0\ncollecting ... collected 20 items / 1 deselected / 19 selected\n\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_simulation_loads_and_runs FAILED [  5%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_small_simulation_results FAILED [ 10%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_simulation_reproducible FAILED [ 15%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_both_engines_work FAILED [ 21%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[10-0.5] FAILED [ 26%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[50-1.0] FAILED [ 31%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[100-1.0] FAILED [ 36%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[100-2.0] FAILED [ 42%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_audit_trail_exists FAILED [ 47%]\ntests/regression/test_existing_simulation.py::TestExistingSimulation::test_patient_structure FAILED [ 52%]\ntests/regression/test_existing_state.py::TestExistingState::test_simulation_results_serializable PASSED [ 57%]\ntests/regression/test_existing_state.py::TestExistingState::test_protocol_info_structure PASSED [ 63%]\ntests/regression/test_existing_state.py::TestExistingState::test_audit_trail_structure PASSED [ 68%]\ntests/regression/test_existing_state.py::TestExistingState::test_patient_object_pickle PASSED [ 73%]\ntests/regression/test_existing_state.py::TestExistingState::test_results_size_estimation PASSED [ 78%]\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_import_memory_overhead PASSED [ 84%]\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_empty_simulation_memory FAILED [ 89%]\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_scaling FAILED [ 94%]\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_persistence FAILED [100%]\n\n=================================== FAILURES ===================================\n____________ TestExistingSimulation.test_simulation_loads_and_runs _____________\ntests/regression/test_existing_simulation.py:110: in test_simulation_loads_and_runs\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n_____________ TestExistingSimulation.test_small_simulation_results _____________\ntests/regression/test_existing_simulation.py:127: in test_small_simulation_results\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n_____________ TestExistingSimulation.test_simulation_reproducible ______________\ntests/regression/test_existing_simulation.py:146: in test_simulation_reproducible\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n________________ TestExistingSimulation.test_both_engines_work _________________\ntests/regression/test_existing_simulation.py:162: in test_both_engines_work\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n______________ TestExistingSimulation.test_various_sizes[10-0.5] _______________\ntests/regression/test_existing_simulation.py:184: in test_various_sizes\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n______________ TestExistingSimulation.test_various_sizes[50-1.0] _______________\ntests/regression/test_existing_simulation.py:184: in test_various_sizes\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n______________ TestExistingSimulation.test_various_sizes[100-1.0] ______________\ntests/regression/test_existing_simulation.py:184: in test_various_sizes\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n______________ TestExistingSimulation.test_various_sizes[100-2.0] ______________\ntests/regression/test_existing_simulation.py:184: in test_various_sizes\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n________________ TestExistingSimulation.test_audit_trail_exists ________________\ntests/regression/test_existing_simulation.py:194: in test_audit_trail_exists\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n________________ TestExistingSimulation.test_patient_structure _________________\ntests/regression/test_existing_simulation.py:210: in test_patient_structure\n    spec = ProtocolSpecification.from_yaml(default_protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\n_______________ TestMemoryBaseline.test_empty_simulation_memory ________________\ntests/regression/test_memory_baseline.py:94: in test_empty_simulation_memory\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n____________________ TestMemoryBaseline.test_memory_scaling ____________________\ntests/regression/test_memory_baseline.py:153: in test_memory_scaling\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n__________________ TestMemoryBaseline.test_memory_persistence __________________\ntests/regression/test_memory_baseline.py:243: in test_memory_persistence\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n=========================== short test summary info ============================\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_simulation_loads_and_runs - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_small_simulation_results - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_simulation_reproducible - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_both_engines_work - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[10-0.5] - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[50-1.0] - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[100-1.0] - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_various_sizes[100-2.0] - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_audit_trail_exists - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_existing_simulation.py::TestExistingSimulation::test_patient_structure - ValueError: Missing required fields: ['name', 'version', 'author', 'description', 'protocol_type', 'min_interval_days', 'max_interval_days', 'extension_days', 'shortening_days', 'disease_transitions', 'vision_change_model', 'treatment_effect_on_transitions', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_empty_simulation_memory - ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_scaling - ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_persistence - ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n================== 13 failed, 6 passed, 1 deselected in 0.17s ==================\n",
      "stderr": ""
    },
    "memory": {
      "return_code": 1,
      "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.2, pytest-8.3.4, pluggy-1.5.0 -- /opt/homebrew/Caskroom/miniconda/base/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/rose/Code/CC/streamlit_app_v2\nconfigfile: pytest.ini\nplugins: cov-6.0.0, anyio-4.9.0\ncollecting ... collected 5 items\n\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_import_memory_overhead \nImport overhead: 1.3 MB\nPASSED\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_empty_simulation_memory FAILED\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_scaling FAILED\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_persistence FAILED\ntests/regression/test_memory_baseline.py::TestMemoryBaseline::test_maximum_reasonable_size FAILED\n\n=================================== FAILURES ===================================\n_______________ TestMemoryBaseline.test_empty_simulation_memory ________________\ntests/regression/test_memory_baseline.py:94: in test_empty_simulation_memory\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n____________________ TestMemoryBaseline.test_memory_scaling ____________________\ntests/regression/test_memory_baseline.py:153: in test_memory_scaling\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n__________________ TestMemoryBaseline.test_memory_persistence __________________\ntests/regression/test_memory_baseline.py:243: in test_memory_persistence\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n_______________ TestMemoryBaseline.test_maximum_reasonable_size ________________\ntests/regression/test_memory_baseline.py:315: in test_maximum_reasonable_size\n    spec = ProtocolSpecification.from_yaml(protocol_path)\n../simulation_v2/protocols/protocol_spec.py:94: in from_yaml\n    raise ValueError(f\"Missing required fields: {missing}\")\nE   ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n=========================== short test summary info ============================\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_empty_simulation_memory - ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_scaling - ValueError: Missing required fields: ['author', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_memory_persistence - ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\nFAILED tests/regression/test_memory_baseline.py::TestMemoryBaseline::test_maximum_reasonable_size - ValueError: Missing required fields: ['author', 'description', 'protocol_type', 'vision_change_model', 'baseline_vision', 'discontinuation_rules']\n========================= 4 failed, 1 passed in 0.08s ==========================\n",
      "stderr": ""
    }
  },
  "memory_measurements": {
    "import_overhead_mb": 1.3
  },
  "performance_baselines": {}
}